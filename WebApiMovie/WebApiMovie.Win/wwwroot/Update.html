<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <script src="MovieClient.js"></script>
    <script>
        // set event handlers and fill the select list
        function init() {
            // set up the event handler for posting movie data
            var form = document.getElementById("movieForm");
            form.onsubmit = function(event) {
                // prevent the form from sending an HTTP request when it is submitted
                event.preventDefault();
                updateMovie();
            };

            var deleteButton = document.getElementById("deleteButton");
            deleteButton.onclick = deleteMovie;

            // set the event handler for the select list
            var sel = document.getElementsByTagName("select")[0];
            sel.onchange = getMovieById;

            // Fill the table on the page with movie data when the page opens
            getAllMovies(fillSelectList);
        }
    </script>
    <title></title>
</head>

<body onload=init()>

    <h1>Update Information about a Movie</h1>
    <nav>
        <a href="MovieClient.html">Home - List all movies</a><br>
        <a href="MovieClient.html#addMovie">Home - Add a movie</a><br>
    </nav>
    <form id="movieForm">
        <p>
            <select>
                <option value="0">Choose a movie</option>
            </select>
        </p>
        <input name="id" hidden>

        <label for="title">Title</label>
        <input name="title" placeholder="My Movie">
        <br>
        <label for="releaseDate">Date</label>
        <input name="releaseDate" placeholder="12/31/2000">
        <br>
        <label for="genre">Genre</label>
        <input name="genre" placeholder="Drama">
        <br>
        <label for="price">Price</label>
        <input name="price" placeholder="9.99">
        <br>
        <label for="rating">Rating</label>
        <input name="rating" placeholder="PG">
        <br><br>
        <button id="updateButton">Update Movie</button>
    </form>
    <button id="deleteButton">Delete Movie</button>
</body>

</html>